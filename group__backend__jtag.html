<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>glip: JTAG</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">glip
   &#160;<span id="projectnumber">0.1.0-dev</span>
   </div>
   <div id="projectbrief">The Generic Logic Interfacing Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>GLIP&#160;Introduction</span></a></li>
      <li><a href="examples.html"><span>Demos</span></a></li>
      <li><a href="modules.html"><span>Documentation</span></a></li>
      <li><a href="download.html"><span>Download</span></a></li>
      <li><a href="contact.html"><span>Contact</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__backend__jtag.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">JTAG<div class="ingroups"><a class="el" href="group__backend.html">Backends</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__backend__jtag-logic"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__backend__jtag-logic.html">JTAG FPGA Logic</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__backend__jtag-protocol"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__backend__jtag-protocol.html">JTAG Wire Protocol</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__backend__jtag-sw"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__backend__jtag-sw.html">JTAG libglip backend</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The JTAG backend (internal name: <code>jtag</code>) uses (unsurprisingly) the <a href="http://en.wikipedia.org/wiki/Joint_Test_Action_Group">JTAG protocol</a> to exchange data with a target device. To support a wide variety of adapters, the JTAG connection and device communication is handled by the <a href="http://openocd.org/">OpenOCD</a> tool. The transmission protocol is tuned for high throughput.</p>
<h1>Supported Features </h1>
<ul>
<li>Number of channels: 1 (fixed)</li>
<li>FIFO width: configurable, 16 bit by default</li>
</ul>
<h1>Components </h1>
<p>To make use of this backend, a number of components are required, as shown in the graphic below. </p><pre class="fragment">           Host PC                                                   Target FPGA
-----------       -----------       ----------------      -----------------------------------
|         |       |         |       |              |      | --------------   -------------- |
| libglip |--TCP--| OpenOCD |--???--| JTAG Adapter |-JTAG-| | GLIP logic | - | Your Logic | |
|         |       |         |       |              |      | --------------   -------------- |
-----------       -----------       ----------------      -----------------------------------
</pre><p>On the host PC, the <code>jtag</code> backend of libglip uses OpenOCD to handle the JTAG communication. OpenOCD is a standalone application, which can be controlled by sending TCL commands over a TCP socket.</p>
<p>Since most PCs don't come with a JTAG interface built-in, OpenOCD contains drivers for many JTAG adapters. Most of are being USB to JTAG adapters with a FT2232 chip inside. This backend was developed using the <a href="https://www.olimex.com/Products/ARM/JTAG/ARM-USB-TINY-H/">Olimex ARM-USB-TINY-H</a> adapter, but other adapters have been shown to work as well. In general, all adapters supported by OpenOCD should work.</p>
<p>On the FPGA side, a TAP Controller and logic implementing the GLIP protocol are required, both of which are encapsulated inside the <code>glip_toplevel_jtag</code> Verilog module, which also provides the GLIP FIFO interface to your custom logic.</p>
<p>For details and usage instructions for the individual components, see these pages:</p><ul>
<li><a class="el" href="group__backend__jtag-sw.html">libglip Backend</a></li>
<li><a class="el" href="group__backend__jtag-logic.html">FPGA Logic</a></li>
</ul>
<h1>Performance </h1>
<p>The performance greatly depends on the used JTAG adapter and the transfer speeds it supports. Using a OLIMEX ARM-USB-TINY-H adapter, a common variant of FTDI FT2232-based JTAG adapters and running the JTAG bus at 10 MHz, a data rate of about 620 KByte/s bidirectional is achieved. (The theoretical maximum without any overhead would be 1.19 MByte/s at 10 MHz.)</p>
<p>The achievable transfer speed is also influenced by OpenOCD internals and the individual backend implementations inside OpenOCD. If you find the performance not satisfactory, try switching to another OpenOCD backend and/or JTAG adapter.</p>
<h1>License Notes </h1>
<p>This backend is (like all of GLIP) MIT licensed.</p>
<p>OpenOCD is (at the time of this writing) provided under GPLv2+. GLIP uses OpenOCD unmodified in a separate process and communicates with it through a TCP socket. Therefore, GLIP with the JTAG backend can still be used under the terms of the MIT license. For OpenOCD, the GPL applies as usual, of course.</p>
<p>The HDL logic of the backend uses the "Mohor TAP" implementation, which is distributed under LGPL. Changes to this TAP need to be made available under the LGPL as well. All other HDL code is MIT licensed. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Jan 3 2016 15:08:21 for glip by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
