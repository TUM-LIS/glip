<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>glip: GLIP Logic Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">glip
   &#160;<span id="projectnumber">0.1.0-dev</span>
   </div>
   <div id="projectbrief">The Generic Logic Interfacing Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>GLIP&#160;Introduction</span></a></li>
      <li><a href="modules.html"><span>Documentation</span></a></li>
      <li><a href="download.html"><span>Download</span></a></li>
      <li><a href="contact.html"><span>Contact</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__logicif.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">GLIP Logic Interface</div>  </div>
</div><!--header-->
<div class="contents">
<p>For FPGA targets GLIP provides HDL (usually Verilog) modules as an interface between the communication interface and your logic. Those logic interfaces share a common interface if at all possible to make switching between the different communication methods in hardware as easy as in software. This page describes this generic interface. For details on the individual backend implementations refer to the backend documentation.</p>
<p>The toplevel module of the HDL code is commonly called <code>glip_BACKEND_toplevel</code> and contains three four groups of signals: the GLIP FIFO interface, the GLIP control interface, clock and reset signals and an external communication interface specific to the backend.</p>
<dl class="section note"><dt>Note</dt><dd>The direction in all tables below is seen from the GLIP interface module, i.e. the <code>fifo_out_data</code> port is an input from the GLIP side, thus marked as IN in the tables below. In your design it's an output.</dd></dl>
<h2>FIFO Interface </h2>
<p>The FIFO interface is the interface between your logic and GLIP. Whatever you write into the FIFO in your logic will come out of the FIFO at the host PC, and the other way around. The signals are named from a target point of view, the <code>fifo_out_</code> signals are the outgoing FIFO from the target to the host PC. The <code>fifo_in_</code> signals are incoming data, data coming from the host PC and being received at your logic.</p>
<p>Depending on the used backend the width of the FIFO interface (i.e. the number of parallel data signals) might be configurable, or fixed. The width is always given in full bytes, i.e. 8 bit, 16 bit, etc. In the table below <code>FIFO_WIDTH</code> describes the width of the FIFO interface.</p>
<p>Some GLIP backends support more than one communication channel. Each channel is a completely independent FIFO with its own set of data and control signals. All signals of the same type are combined into one input/output signal, i.e. <code>fifo_out_valid[0]</code> is the <code>fifo_out_valid</code> signal for channel 0, <code>fifo_out_valid[1]</code> is the same signal for channel 1. In the table below <code>NCHAN</code> describes the number of supported channels.</p>
<table class="doxtable">
<tr>
<th>Port Name </th><th align="center">Width </th><th align="center">Direction </th><th>Description  </th></tr>
<tr>
<td>fifo_out_data </td><td align="center">NCHAN*FIFO_WIDTH </td><td align="center">IN </td><td>the data to write to the host PC </td></tr>
<tr>
<td>fifo_out_valid </td><td align="center">NCHAN </td><td align="center">IN </td><td>the data on <code>fifo_out_data</code> is valid </td></tr>
<tr>
<td>fifo_out_ready </td><td align="center">NCHAN </td><td align="center">OUT </td><td>the FIFO is ready to receive new data </td></tr>
<tr>
<td>fifo_in_data </td><td align="center">NCHAN*FIFO_WIDTH </td><td align="center">OUT </td><td>the data received from the host PC </td></tr>
<tr>
<td>fifo_in_valid </td><td align="center">NCHAN </td><td align="center">OUT </td><td>the data on <code>fifo_in_data</code> is valid </td></tr>
<tr>
<td>fifo_in_ready </td><td align="center">NCHAN </td><td align="center">IN </td><td>the logic is ready to receive new data </td></tr>
</table>
<h3>Byte Ordering</h3>
<p>On the host side, all reads and writes are done in bytes (see <a class="el" href="group__communication.html#ga2e5385d600d1df1263517b1879cddaaf">glip_read()</a> and <a class="el" href="group__communication.html#ga87f8bbfaaef05448065ac910ee9f43d6">glip_write()</a> for example). On the logic side the FIFO might be wider than one byte, e.g. 2 or 4 byte (<code>FIFO_WIDTH</code> being 16 or 32 [bit] respectively). This leaves the question of how the stream of bytes is mapped into wider FIFO registers. In GLIP, all <b>FIFOs are Big Endian</b>. For a 2 byte (16 bit) wide FIFO on the target this means: the first byte written by <a class="el" href="group__communication.html#ga87f8bbfaaef05448065ac910ee9f43d6">glip_write()</a> will be the most significant byte of the FIFO (i.e. <code>fifo_out_data[15:8]</code>), and the second byte will be the least significant byte (i.e. <code>fifo_out_data[7:0]</code>).</p>
<h3>FIFO Timing Behavior</h3>
<p>All FIFOs are "First Word Fall Through". For reading from the FIFO this means, as soon as the FIFO is not empty any more, the valid signal is high and data can be read from the data port. The "ready" signal serves as a acknowledge signal, i.e. as soon as ready and valid are both high, the data word is considered read and (if available) the next word can be read from the FIFO.</p>
<h2>Control Interface </h2>
<p>The control interface gives you the possibility to transfer side-channel information between the host PC and the target device. The signals of the control interface are not interpreted or used by GLIP itself, from the user point of view they are just signals which can be triggered on the host PC and can be used on the logic side for any purpose.</p>
<table class="doxtable">
<tr>
<th>Port Name </th><th align="center">Width </th><th align="center">Direction </th><th>Description  </th></tr>
<tr>
<td>ctrl_logic_rst </td><td align="center">1 </td><td align="center">OUT </td><td>a reset of the user logic is requested </td></tr>
</table>
<h2>Clock and Reset </h2>
<p>All signals facing the user logic (the <code>fifo_</code> and <code>ctrl_</code> signals) are in the clock domain given by the <code>clk</code> signal. Internally, the communication logic provided by GLIP might operate within a different clock domain, depending on what external interfaces are being used. In this case, GLIP contains adequate clock-domain crossing mechanisms to hide this complexity from your logic.</p>
<p>Two reset signals are available: <code>rst</code> and <code>com_rst</code>. The <code>rst</code> should be connected to the system-wide reset tree also containing the Power On Reset (POR), possibly an external reset button, etc. It can be used to reset the logic inside GLIP to be able to receive data from a communication partner.</p>
<p>The <code>com_rst</code> is the communication reset. This reset is triggered by the host (e.g. the PC) when connecting to the target (e.g. the FPGA) to create a common system state and bring up the communication. The <code>com_rst</code> signal can be used by the logic attached to GLIP to initialize higher-level protocols for example (i.e. a communication protocol building on top of the GLIP FIFO interface).</p>
<table class="doxtable">
<tr>
<th>Port Name </th><th align="center">Width </th><th align="center">Direction </th><th>Description  </th></tr>
<tr>
<td>clk </td><td align="center">1 </td><td align="center">IN </td><td>user-supplied clock </td></tr>
<tr>
<td>rst </td><td align="center">1 </td><td align="center">IN </td><td>user-supplied synchronous reset signal </td></tr>
<tr>
<td>com_rst </td><td align="center">1 </td><td align="center">OUT </td><td>communication logic reset (host-triggered) </td></tr>
</table>
<h2>External Communication Interface </h2>
<p>To do its work GLIP needs to interface with some communication interface on the FPGA. Depending on the used interface the used signals vary greatly. Thus this interface is specific to each GLIP backend and not standardized in any way. To reduce confusion, those signal names never start with <code>fifo_</code> or <code>ctrl_</code>. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Jan 2 2016 23:28:24 for glip by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
